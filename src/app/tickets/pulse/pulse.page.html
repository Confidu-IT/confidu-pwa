<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/"></ion-back-button>
    </ion-buttons>
    <ion-title>{{ title }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-spinner *ngIf="isLoading" color="primary"></ion-spinner>
    <ion-row *ngIf="!isLoading">
      <ion-col sizeSm="8" offsetSm="2">
        <div *ngIf="showIntro" class="intro">
          <h2>{{ 'PULSE_PAGE.INTRO.HEADER' | translate }}</h2>
          <p>{{ introText }}</p>
          <ion-button
            color="secondary"
            (click)="closeIntro()">
            {{ 'PULSE_PAGE.START' | translate }}
          </ion-button>
        </div>

        <div *ngIf="showTimer" class="timer">
          <p class="text">{{ timerText }}</p>
          <div (click)="onCollectBeats()">
            <img #img [src]="beatsImg" alt="">
          </div>
          <p class="beats">{{ beats }} {{ 'PULSE_PAGE.TIMER.BEATS' | translate }}</p>
          <div class="countdown" #countdown>60</div>
<!--          <ion-button-->
<!--            color="secondary"-->
<!--            [disabled]="beats < 1">-->
<!--            {{ 'PULSE_PAGE.CONTINUE' | translate }}-->
<!--          </ion-button>-->
        </div>

        <div class="question" *ngIf="showQuestion">

          <div class="question-content">
            <p class="question-text slide">
              {{ question }}
            </p>
          </div>

          <div class="question-image-container">
            <img class="image-link" [src]="questionImg"  alt="">
          </div>

          <div class="weigh-input">
            <mat-form-field >
              <mat-label>{{ 'TICKET_QUESTION_PAGE.KG' | translate }}</mat-label>
              <input type="number" matInput [(ngModel)]="selectedAnswer">
            </mat-form-field>
          </div>

          <div class="weight-button">
            <ion-button
              (click)="closeQuestion()"
              color="secondary"
              disabled="false">
              {{ 'PULSE_PAGE.CONTINUE' | translate }}
            </ion-button>
          </div>
        </div>

        <div *ngIf="getResult" class="done">
          <img [src]="petsImg" alt="">
          <h2>{{ 'PULSE_PAGE.DONE.HEADER' | translate }}</h2>
          <p>{{ 'PULSE_PAGE.DONE.TEXT' | translate }}</p>
          <ion-button
            color="secondary"
            (click)="onProgress()">
            {{ 'PULSE_PAGE.EVAL' | translate }}
          </ion-button>
        </div>

      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
